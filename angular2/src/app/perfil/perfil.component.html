<h1>Perfil</h1>

<form name="form" [formGroup]="form" novalidate>
	
	<div class="fotoPerfil">
		<h4>Actualizar Foto de Perfil:</h4>
		<input type="file" name="" accept="image/*" 
		(change)="changeListener($event)">
		<h4 *ngIf="base64Image">Nueva Foto:</h4>
		<img *ngIf="base64Image" [src]="domSanitizer.bypassSecurityTrustUrl(base64Image)" >	
		<div *ngIf="form.value.imagen">
		<h4 >Foto Actual:</h4>
		<img [src]="safeImage">
		</div>
	</div>

	<div class="form-group">
		<label>Nombre:</label> 

		<input name="nombre" [formControl]="form.controls['nombre']"
				type="text" placeholder="Nombre" size="60" />

		<div class="error"
			*ngIf="(form.controls['nombre'].dirty || formSubmitted) && form.controls['nombre'].invalid">
			Valor no v&aacute;lido.
		</div>
	</div>
	
	<div class="form-group">
		<label>Email:</label> 

		<input name="email" [formControl]="form.controls['email']"
				type="text" placeholder="Email" size="60" />

		<div class="error"
					*ngIf="(form.controls['email'].dirty || formSubmitted) && form.controls['email'].invalid">
			Valor no v&aacute;lido.
		</div>
	</div>

	<div class="form-group">
		<label>Provincia:</label> 

		<br />
		<select name='provincia' [formControl]="form.controls['provincia']" >
					<option *ngFor="let item of provincias" [value]="item.id" >{{item.nombre}}</option>
		</select>	

		<div class="error"
					*ngIf="(form.controls['provincia'].dirty || formSubmitted) && form.controls['provincia'].invalid">
						Valor no v&aacute;lido.
		</div>
	</div>

	<div class="form-group">
		<label>Direcci&oacute;n:</label> 

		<input name="direccion" [formControl]="form.controls['direccion']" type="text" placeholder="Direcci&oacute;n" size="60" />	

		<div class="error"
			*ngIf="(form.controls['direccion'].dirty || formSubmitted) && form.controls['direccion'].invalid">
				Valor no v&aacute;lido.
		</div>
	</div>
	
	<div class="form-group">
		<label>Tel&eacute;fono:</label> 

		<input name="telefono" [formControl]="form.controls['telefono']" type="text" placeholder="Tel&eacute;fono" size="60" />
		
		<div class="error"
			*ngIf="(form.controls['telefono'].dirty || formSubmitted) && form.controls['telefono'].invalid">
				Valor no v&aacute;lido.
		</div>
	</div>

		
	<button class="btn btn-success"  (click)="submitForm()"  [disabled]="form.invalid">Guardar</button>
	<button class="btn btn-default" [routerLink]="['/']" >Cancelar</button>		
</form>
